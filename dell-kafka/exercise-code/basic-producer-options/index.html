<!DOCTYPE html>

<html>
	<head>
		<style>
			.markdown-body {
				box-sizing: border-box;
				min-width: 200px;
				max-width: 80%;
				margin: 0 auto 51px auto;
				padding: 45px;
				border:1px solid rgba(27,31,35,0.15);
				border-radius:0 0 3px 3px;
			}

			@media (max-width: 80%) {
				.markdown-body {
					padding: 15px;
				}
			}

			.top-bar {
				box-sizing: border-box;
				min-width: 200px;
				max-width: 80%;
				background-color: #f6f8fa;
				border:1px solid rgba(27,31,35,0.15);
				border-radius:3px 3px 0 0;
				border-style: solid solid none;
				margin: 64px auto 0;
				width: 100%;
				padding: 9px;
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
				font-weight: bold;
				font-size: 85%;
}

			.file-name {
				margin-left: 22px;
			}

			
@font-face {
  font-family: octicons-link;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

.markdown-body {
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  line-height: 1.5;
  color: #24292e;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  font-size: 16px;
  line-height: 1.5;
  word-wrap: break-word;
}

.markdown-body .pl-c {
  color: #6a737d;
}

.markdown-body .pl-c1,
.markdown-body .pl-s .pl-v {
  color: #005cc5;
}

.markdown-body .pl-e,
.markdown-body .pl-en {
  color: #6f42c1;
}

.markdown-body .pl-smi,
.markdown-body .pl-s .pl-s1 {
  color: #24292e;
}

.markdown-body .pl-ent {
  color: #22863a;
}

.markdown-body .pl-k {
  color: #d73a49;
}

.markdown-body .pl-s,
.markdown-body .pl-pds,
.markdown-body .pl-s .pl-pse .pl-s1,
.markdown-body .pl-sr,
.markdown-body .pl-sr .pl-cce,
.markdown-body .pl-sr .pl-sre,
.markdown-body .pl-sr .pl-sra {
  color: #032f62;
}

.markdown-body .pl-v,
.markdown-body .pl-smw {
  color: #e36209;
}

.markdown-body .pl-bu {
  color: #b31d28;
}

.markdown-body .pl-ii {
  color: #fafbfc;
  background-color: #b31d28;
}

.markdown-body .pl-c2 {
  color: #fafbfc;
  background-color: #d73a49;
}

.markdown-body .pl-c2::before {
  content: "^M";
}

.markdown-body .pl-sr .pl-cce {
  font-weight: bold;
  color: #22863a;
}

.markdown-body .pl-ml {
  color: #735c0f;
}

.markdown-body .pl-mh,
.markdown-body .pl-mh .pl-en,
.markdown-body .pl-ms {
  font-weight: bold;
  color: #005cc5;
}

.markdown-body .pl-mi {
  font-style: italic;
  color: #24292e;
}

.markdown-body .pl-mb {
  font-weight: bold;
  color: #24292e;
}

.markdown-body .pl-md {
  color: #b31d28;
  background-color: #ffeef0;
}

.markdown-body .pl-mi1 {
  color: #22863a;
  background-color: #f0fff4;
}

.markdown-body .pl-mc {
  color: #e36209;
  background-color: #ffebda;
}

.markdown-body .pl-mi2 {
  color: #f6f8fa;
  background-color: #005cc5;
}

.markdown-body .pl-mdr {
  font-weight: bold;
  color: #6f42c1;
}

.markdown-body .pl-ba {
  color: #586069;
}

.markdown-body .pl-sg {
  color: #959da5;
}

.markdown-body .pl-corl {
  text-decoration: underline;
  color: #032f62;
}

.markdown-body .octicon {
  display: inline-block;
  vertical-align: text-top;
  fill: currentColor;
}

.markdown-body a {
  background-color: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline-width: 0;
}

.markdown-body strong {
  font-weight: inherit;
}

.markdown-body strong {
  font-weight: bolder;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border-style: none;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body hr {
  box-sizing: content-box;
  height: 0;
  overflow: visible;
}

.markdown-body input {
  font: inherit;
  margin: 0;
}

.markdown-body input {
  overflow: visible;
}

.markdown-body [type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body * {
  box-sizing: border-box;
}

.markdown-body input {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}

.markdown-body a {
  color: #0366d6;
  text-decoration: none;
}

.markdown-body a:hover {
  text-decoration: underline;
}

.markdown-body strong {
  font-weight: 600;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #dfe2e5;
}

.markdown-body hr::before {
  display: table;
  content: "";
}

.markdown-body hr::after {
  display: table;
  clear: both;
  content: "";
}

.markdown-body table {
  border-spacing: 0;
  border-collapse: collapse;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body h1 {
  font-size: 32px;
  font-weight: 600;
}

.markdown-body h2 {
  font-size: 24px;
  font-weight: 600;
}

.markdown-body h3 {
  font-size: 20px;
  font-weight: 600;
}

.markdown-body h4 {
  font-size: 16px;
  font-weight: 600;
}

.markdown-body h5 {
  font-size: 14px;
  font-weight: 600;
}

.markdown-body h6 {
  font-size: 12px;
  font-weight: 600;
}

.markdown-body p {
  margin-top: 0;
  margin-bottom: 10px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code {
  font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
  font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body .octicon {
  vertical-align: text-bottom;
}

.markdown-body .pl-0 {
  padding-left: 0 !important;
}

.markdown-body .pl-1 {
  padding-left: 4px !important;
}

.markdown-body .pl-2 {
  padding-left: 8px !important;
}

.markdown-body .pl-3 {
  padding-left: 16px !important;
}

.markdown-body .pl-4 {
  padding-left: 24px !important;
}

.markdown-body .pl-5 {
  padding-left: 32px !important;
}

.markdown-body .pl-6 {
  padding-left: 40px !important;
}

.markdown-body::before {
  display: table;
  content: "";
}

.markdown-body::after {
  display: table;
  clear: both;
  content: "";
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body a:not([href]) {
  color: inherit;
  text-decoration: none;
}

.markdown-body .anchor {
  float: left;
  padding-right: 4px;
  margin-left: -20px;
  line-height: 1;
}

.markdown-body .anchor:focus {
  outline: none;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 0.25em;
  padding: 0;
  margin: 24px 0;
  background-color: #e1e4e8;
  border: 0;
}

.markdown-body blockquote {
  padding: 0 1em;
  color: #6a737d;
  border-left: 0.25em solid #dfe2e5;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body kbd {
  display: inline-block;
  padding: 3px 5px;
  font-size: 11px;
  line-height: 10px;
  color: #444d56;
  vertical-align: middle;
  background-color: #fafbfc;
  border: solid 1px #c6cbd1;
  border-bottom-color: #959da5;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #959da5;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 24px;
  margin-bottom: 16px;
  font-weight: 600;
  line-height: 1.25;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
  color: #1b1f23;
  vertical-align: middle;
  visibility: hidden;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
  text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
  visibility: visible;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2em;
  border-bottom: 1px solid #eaecef;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.5em;
  border-bottom: 1px solid #eaecef;
}

.markdown-body h3 {
  font-size: 1.25em;
}

.markdown-body h4 {
  font-size: 1em;
}

.markdown-body h5 {
  font-size: 0.875em;
}

.markdown-body h6 {
  font-size: 0.85em;
  color: #6a737d;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li {
  word-wrap: break-all;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body li+li {
  margin-top: 0.25em;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: 600;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
}

.markdown-body table th {
  font-weight: 600;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #dfe2e5;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #c6cbd1;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f6f8fa;
}

.markdown-body img {
  max-width: 100%;
  box-sizing: content-box;
  background-color: #fff;
}

.markdown-body img[align=right] {
  padding-left: 20px;
}

.markdown-body img[align=left] {
  padding-right: 20px;
}

.markdown-body code {
  padding: 0.2em 0.4em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(27,31,35,0.05);
  border-radius: 3px;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body .highlight pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f6f8fa;
  border-radius: 3px;
}

.markdown-body pre code {
  display: inline;
  max-width: auto;
  padding: 0;
  margin: 0;
  overflow: visible;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body .full-commit .btn-outline:not(:disabled):hover {
  color: #005cc5;
  border-color: #005cc5;
}

.markdown-body kbd {
  display: inline-block;
  padding: 3px 5px;
  font: 11px "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
  line-height: 10px;
  color: #444d56;
  vertical-align: middle;
  background-color: #fafbfc;
  border: solid 1px #d1d5da;
  border-bottom-color: #c6cbd1;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #c6cbd1;
}

.markdown-body :checked+.radio-label {
  position: relative;
  z-index: 1;
  border-color: #0366d6;
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 0.2em 0.25em -1.6em;
  vertical-align: middle;
}

.markdown-body hr {
  border-bottom-color: #eee;
}

		</style>
		<title>basic-producer-options</title>
	</head>

	<body>
		<div class="top-bar">
	<svg style="position: absolute; padding: 2px 0 0 1px;" height="12px" width="16px" viewBox="2 2 13 12" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"></path></svg>
	<div class="file-name">
		basic-producer-options
	</div>
</div>
<div class="markdown-body">

<h1>Description</h1>
<p>Files related to the &quot;Basic Producer Options with the Java API&quot; exercise.</p>
<p>There are three primary methods of sending messages:</p>
<h2 id="producer-styles">Producer Styles</h2>
<ol>
<li><p>Fire-and-forget. We send a message to the server and don't really care if it arrives succesfully or not. Most of the time, it will arrive successfully, since Kafka is highly available and the producer will retry sending messages automatically. However, some messages will get lost using this method.</p></li>
<li><p>Synchronous send. We send a message, the send() method returns a Future object, and we use get() to wait on the future and see if the send() was successful or not.</p></li>
<li><p>Asynchronous send. We call the send() method with a callback function, which gets triggered when it receives a response from the Kafka broker.</p></li>
</ol>
<h2 id="start-your-consumer">Start your Consumer</h2>
<p>From the shell, run the following commands to build and run the code:</p>
<pre><code>mvn package

mvn exec:java \
    -Dexec.mainClass=&quot;com.cloudera.training.kafka.solution.SimpleConsumer&quot; \
    -Dexec.args=&quot;$BOOTSTRAP_SERVERS newcustomers&quot;
</code></pre>
<p>Alternatively, you could run the class by using the <code>java</code> command, speciyfing the classpath (which consists of the JAR file created in the <code>target</code> subdirectory and all libraries from the Kafka installation), followed by any arguments for the program.</p>
<pre><code>java \
    -classpath /opt/cloudera/parcels/KAFKA-3.1.0-1.3.1.0.p0.35/lib/kafka/libs/*:target/*.jar \
     com.cloudera.training.kafka.solution.SimpleConsumer \
     $BOOTSTRAP_SERVERS newcustomers
</code></pre>
<h2 id="fire-and-forget-producer">Fire and Forget Producer</h2>
<p>The first example shows a producer that sends a message to a broker, but does not attempt to confirm that this was successful.</p>
<ul>
<li>All of the producers in this exercise expect the following arguments:</li>
</ul>
<ol>
<li>List of Brokers</li>
<li>Number of messages to produce</li>
<li>Topic name</li>
</ol>
<p>In a different shell, run the following command:</p>
<pre><code>mvn exec:java \
    -Dexec.mainClass=&quot;com.cloudera.training.kafka.solution.SimpleFFProducer&quot; \
    -Dexec.args=&quot;$BOOTSTRAP_SERVERS newcustomers 10&quot;
</code></pre>
<p>You should see something like the following output:</p>
<pre><code>0|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185001,Ben,Murray,702-555-2939, timestamp=null)
1|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185002,Loretta,Graves,707-555-4667, timestamp=null)
2|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185003,Ted,Hart,310-555-7789, timestamp=null)
3|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185004,Johnny,O&#39;Brien,310-555-6639, timestamp=null)
4|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185005,Cindy,Richards,775-555-9465, timestamp=null)
5|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185006,Lisa,Vaughn,408-555-2382, timestamp=null)
6|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185007,Manuel,Chandler,310-555-8333, timestamp=null)
7|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185008,Cecil,Joseph,707-555-6974, timestamp=null)
8|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185009,Eva,Jensen,509-555-6273, timestamp=null)
9|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185010,Courtney,Moore,818-555-7567, timestamp=null)
</code></pre>
<h2 id="sync-producer">Sync Producer</h2>
<p>The synchronous producer pattern is similar to the code you just saw, except that it calls the <code>get()</code> method on the <code>Future</code> object returned when sending the record. This blocks until sending is complete, at which point the method returns an object of type <code>org.apache.kafka.clients.producer.RecordMetadata</code>, which contains the partition number, the offset, and other information.</p>
<p>The <code>SimpleSyncProducer</code> class in the <code>com.cloudera.training.kafka.hints</code> package provided is similar to the Fire and Forget producer you ran earlier. Modify the <code>SimpleSyncProducer</code> class in the <code>hints</code> package as described below:</p>
<ol>
<li>Follow the synchronous producer pattern by getting the <code>RecordMetadata</code> object that results from sending the message</li>
<li>Update the <code>System.out.println</code> call to also include the offset from that metadata</li>
</ol>
<p>There are two comments (marked with <code>TODO</code>) in the main method of that class that will guide you.</p>
<p>After making your changes, build and run your code using the commands below:</p>
<pre><code>mvn clean package

mvn exec:java \
    -Dexec.mainClass=&quot;com.cloudera.training.kafka.SimpleSyncProducer&quot; \
    -Dexec.args=&quot;$BOOTSTRAP_SERVERS newcustomers 10&quot;
</code></pre>
<p>This should produce output similar to this. Check that the offsets match in the Consumer output.</p>
<pre><code>0|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185001,Reginald,Barber,408-555-4446, timestamp=null)|10
1|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185002,Emily,Murray,503-555-6464, timestamp=null)|11
2|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185003,Ted,Gross,209-555-2632, timestamp=null)|12
3|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185004,Marion,Wilkerson,425-555-4475, timestamp=null)|13
4|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185005,Ron,Vaughn,510-555-7275, timestamp=null)|14
5|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185006,Elizabeth,Wells,279-555-6857, timestamp=null)|15
6|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185007,Cory,Evans,310-555-3742, timestamp=null)|16
7|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185008,Brittany,Palmer,510-555-7285, timestamp=null)|17
8|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185009,Angel,Boyd,480-555-9277, timestamp=null)|18
9|ProducerRecord(topic=newcustomers, partition=null, headers=RecordHeaders(headers = [], isReadOnly = true), key=null, value=185010,Gary,Hunter,714-555-2687, timestamp=null)|19
</code></pre>
<h2 id="async-producer">Async Producer</h2>
<p>The asynchronous producer pattern is similar to the synchronous producer, except that instead of blocking until the message is sent, it provides a callback object (that implements the <code>org.apache.kafka.clients.producer.Callback</code> interface) whose <code>onCompletion</code> method is invoked once the message is sent. That method has two parameters: a <code>RecordMetadata</code> object and an <code>Exception</code> object). If the send was succesful, the <code>RecordMetadata</code> object will contain the results (and the <code>Exception</code> will be null). If the send failed, the <code>RecordMetadata</code> object will be null, and the <code>Exception</code> will contain details about the failure).</p>
<p>The <code>SimpleAsyncProducer</code> class in the <code>com.cloudera.training.kafka.hints</code> package provided is similar to the Fire and Forget producer you ran earlier. Modify the <code>SimpleAsyncProducer</code> class in the <code>hints</code> package as described below:</p>
<ol>
<li>Create a new class (either a static class within the same source file or a regular class in a separate file) that implements the <code>org.apache.kafka.clients.producer.Callback</code> interface.</li>
<li>Code the <code>onCompletion</code> method for your callback to print the offset if the send was successful, or print the exception's stack trace if the send failed.</li>
<li>Instantiate your callback class and pass that object as a parameter to the <code>producer.send</code> method.</li>
</ol>
<p>There are is a comment (marked with <code>TODO</code>) in the main method of the <code>SimpleAsyncProducer</code> class to guide you.</p>
<p>After making your changes, build and run your code using the commands below:</p>
<pre><code>mvn clean package

mvn exec:java \
    -Dexec.mainClass=&quot;com.cloudera.training.kafka.SimpleAsyncProducer&quot; \
    -Dexec.args=&quot;$BOOTSTRAP_SERVERS newcustomers 10&quot;
</code></pre>
<h2 id="producer-retries">Producer Retries</h2>
<p>Open the <code>com.cloudera.training.kafka.solution.ProducerRetries</code> class and examine the code. This is a synchronous producer that illustrates how to set some common properties that influence whether (and how) a producer will retry sending a message upon failure.</p>
<p>Once you have examined the code, run it using the command below:</p>
<pre><code>mvn exec:java \
    -Dexec.mainClass=&quot;com.cloudera.training.kafka.solution.ProducerRetries&quot; \
    -Dexec.args=&quot;$BOOTSTRAP_SERVERS newcustomers 10&quot;
</code></pre>

		</div>
	</body>
</html>
